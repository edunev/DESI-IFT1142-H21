<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css">
    <script>
		const items = [
			{'name':'Alfredo', 'origin':'Italienne', 'category':'Repas', 'photo':'img/alfredo.jpg'},
			{'name':'Big Mac', 'origin':'Americaine', 'category':'Repas', 'photo':'img/bigmac.jpg'},
			{'name':'Biryani', 'origin':'Indienne', 'category':'Repas', 'photo':'img/biryani.jpg'},
			{'name':'Cari', 'origin':'Indienne', 'category':'Repas', 'photo':'img/cari.jpg'},
			{'name':'Coke', 'origin':'Americaine', 'category':'Boisson', 'photo':'img/coke.jpg'},
			{'name':'Coleslaw', 'origin':'Americaine', 'category':'Cote', 'photo':'img/coleslaw.jpg'},
			{'name':'Hot Dog', 'origin':'Americaine', 'category':'Repas', 'photo':'img/hotdog.jpg'},
			{'name':'Lassi mangue', 'origin':'Indienne', 'category':'Boisson', 'photo':'img/lassimangue.jpg'},
			{'name':'Pizza Margherita', 'origin':'Italienne', 'category':'Repas', 'photo':'img/margheritapizza.jpg'},
			{'name':'Samosas', 'origin':'Indienne', 'category':'Cote', 'photo':'img/samosa.jpg'}
		];
		const countries = ['Indienne', 'Italienne', 'Americaine'];
		choixItem = () => {
			let selection=document.querySelector('#selItems');				
			selection.options[selection.options.length]=new Option("choix...");
			for(item of items){ 
				selection.options[selection.options.length]=new Option(item.name)
			}
		}
		choixOrigin = () => {
			let selection=document.querySelector('#selOrigin');	
			selection.options[selection.options.length]=new Option("choix...");
			for(item of countries){ 
				selection.options[selection.options.length]=new Option(item)
			}
		}
		afficheItem = (item) => {
			let chosen=items[item.selectedIndex-1];
			document.getElementById('nomSelect').innerHTML="<b>"+"Nom: " + chosen.name+"</b>";
			document.getElementById('originSelect').innerHTML="<b>"+"Origine: " + chosen.origin+"</b>";
			document.getElementById('categorySelect').innerHTML="<b>"+"Categoire: " +chosen.category+"</b>";
			document.getElementById('photoSelect').innerHTML="<img src='"+chosen.photo+"'/>"							
		}
		afficheOrigin = (item) => {
			let chosen = countries[item.selectedIndex-1];
			let arr = [];
			// Pour obtenir les items avec l'origine choisi, ex: italienne -> alfredo, pizza margherita
			for(i = 0; i < items.length; i++) {
				if(items[i].origin == chosen){
					arr.push(items[i].name)
				}
			}
			document.getElementById('countrySelect').innerHTML="<i>" + arr.join(', ')+"</i>"+ " sont des cuisines " + "<b>"+ chosen + "s</b>";			
		}
	</script>
    </head>
    <body onload="choixItem();choixOrigin()"> 
		<div>
			<div>Afficher les d√©tails d'un bouffe: <select id="selItems" onchange="afficheItem(this);"></select></div>
		    <div class="card-food">
	      		<div>
	        		<p id="nomSelect"></p>
	        		<p id='originSelect'></p>
	        		<p id='categorySelect'></p>
	        	</div>
	        	<div class="image-frame">
	        		<p id='photoSelect'></p>
	      		</div>
		  	</div>
    	</div>
    	<div>
		    <div>Afficher par l'origine:<select id="selOrigin" onchange="afficheOrigin(this);"></select></div>
			<div class="card-food">
				<p id='countrySelect'></p>
			</div>
    	</div>
    </body>
</html>